<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Qu·∫£n l√Ω ƒë∆°n h√†ng</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='admin_orders.css') }}">
</head>
<body>

    <header>
        <h1>üì¶ Qu·∫£n l√Ω ƒë∆°n h√†ng</h1>
        <nav>
            <ul>
                <li><a href="{{ url_for('main_routes.home') }}">üè† Trang ch·ªß</a></li>
                <li><a href="{{ url_for('products.view_products') }}">üõçÔ∏è S·∫£n ph·∫©m</a></li>
                <li><a href="{{ url_for('admin.view_statistics') }}">üìä Th·ªëng k√™</a></li>
            </ul>
        </nav>
    </header>

    <main>
        {% if orders %}
            <table class="order-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Ng∆∞·ªùi ƒë·∫∑t</th>
                        <th>T·ªïng ti·ªÅn</th>
                        <th>Tr·∫°ng th√°i</th>
                        <th>Ng√†y t·∫°o</th>
                        <th>H√†nh ƒë·ªông</th>
                    </tr>
                </thead>
                <tbody>
                    {% for order in orders %}
                    <tr>
                        <td>#{{ order.id }}</td>
                        <td>{{ order.user_id }}</td>
                        <td>{{ "{:,.0f}".format(order.total_price) }} VND</td>
                        <td class="status-{{ order.status }}">{{ order.status }}</td>
                        <td>{{ order.created_at }}</td>
                        <td>
                            <form action="{{ url_for('admin.update_order_status', order_id=order.id) }}" method="POST">
                                <select name="new_status">
                                    <option value="pending" {% if order.status == 'pending' %}selected{% endif %}>Pending</option>
                                    <option value="processing" {% if order.status == 'processing' %}selected{% endif %}>Processing</option>
                                    <option value="completed" {% if order.status == 'completed' %}selected{% endif %}>Completed</option>
                                    <option value="canceled" {% if order.status == 'canceled' %}selected{% endif %}>Canceled</option>
                                </select>
                                <button type="submit" class="update-btn">C·∫≠p nh·∫≠t</button>
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p class="empty-orders">Ch∆∞a c√≥ ƒë∆°n h√†ng n√†o.</p>
        {% endif %}
    </main>

</body>
</html>
